(this["webpackJsonpmedia-probe"]=this["webpackJsonpmedia-probe"]||[]).push([[0],{103:function(e,t,i){},107:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),a=i(37),c=i.n(a),s=(i(96),i(120)),o=i(113),l=(i(97),i(115)),u=i(114),d=i(2),h=function(e){var t=e.children;return Object(d.jsxs)(o.a,{width:"100vw",minHeight:"100vh",backgroundColor:"white",children:[Object(d.jsx)(o.a,{width:"100%",display:"flex",alignItems:"center",shadow:"base",backgroundColor:"white",top:"0",px:"1rem",position:"sticky",zIndex:"3",children:Object(d.jsx)(o.a,{maxWidth:"1024px",margin:"0 auto",children:Object(d.jsx)(u.a,{fontSize:"3xl",py:"0.8rem",color:"gray.700",children:"Media Probe"})})}),Object(d.jsx)(o.a,{maxWidth:"1024px",margin:"0 auto",pt:"1rem",px:"0.4rem",children:t})]})},b=(i(103),function(){return Object(d.jsx)(o.a,{display:"flex",justifyContent:"center",width:"100%",py:"1.2rem",children:Object(d.jsxs)("div",{className:"lds-ripple",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}),j=i(121),p=function(e){var t=e.title,i=e.image,n=e.description,r=e.onClick;return Object(d.jsxs)(o.a,{onClick:r,shadow:"base",display:"flex",cursor:"pointer",transition:"all 0.1s ease-in",_hover:{shadow:"md",backgroundColor:"gray.50"},children:[Object(d.jsx)(j.a,{boxSize:"150px",objectFit:"cover",src:i,alt:t}),Object(d.jsxs)(o.a,{px:"1.2rem",py:"0.2rem",maxHeight:"150px",children:[Object(d.jsx)(u.a,{fontSize:"xl",noOfLines:2,mb:"0.4rem",children:t}),Object(d.jsx)(u.a,{fontSize:"sm",noOfLines:3,textAlign:"justify",children:n})]})]})},x=i(116),f=i(118),m=i(119),v=i(3),O=i(28),g=i.n(O),y=i(33),_=i(75),w=i(30),C=i(31),S=function(){function e(t){Object(w.a)(this,e),this._publishedDate=void 0,this._title=void 0,this._abstract=void 0,this._image=void 0,this._section=void 0,this._author=void 0,this._updatedDate=void 0,this._publishedDate=t.published_date,this._title=t.title,this._abstract=t.abstract,this._image=t.image,this._section=t.section,this._author=t.byline,this._updatedDate=t.updated}return Object(C.a)(e,[{key:"getDate",value:function(){return new Date("ISO ".concat(this._publishedDate))}},{key:"toJSON",value:function(){return{title:this._title,publishedDate:this._publishedDate,abstract:this._abstract,image:this._image,section:this._section,author:this._author,updatedDate:this._updatedDate}}}]),e}(),k=function(e){var t,i,n,r;return new S({published_date:e.published_date,title:e.title,abstract:e.abstract,image:null!==(t=null===(i=e.media[0])||void 0===i||null===(n=i["media-metadata"])||void 0===n||null===(r=n[2])||void 0===r?void 0:r.url)&&void 0!==t?t:"http://placekitten.com/g/150/150",section:e.section,byline:e.byline,updated:e.updated})},D="5C1yfD0LP16tMrJ3sUlxCYuI0wlubg03",L=function(){function e(){Object(w.a)(this,e)}return Object(C.a)(e,[{key:"listArticles",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,i,n,r,a,c,s,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],i=o.length>1&&void 0!==o[1]?o[1]:"byDate",n="byDate"===i?"emailed":"viewed",r=t?1:7,e.next=6,fetch("https://api.nytimes.com/svc/mostpopular/v2/".concat(n,"/").concat(r,".json?api-key=").concat(D));case 6:return a=e.sent,e.next=9,a.json();case 9:return c=e.sent,s=c.results.map((function(e){return k(e)})),e.abrupt("return",s.sort((function(e,t){return t.getDate()-e.getDate()})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"filterArticles",value:function(e){throw new Error("Method not implemented.")}}]),e}(),z={list_articles_use_case:new(function(){function e(t){Object(w.a)(this,e),this._repository=void 0,this._repository=t}return Object(C.a)(e,[{key:"execute",value:function(){var e=Object(y.a)(g.a.mark((function e(t,i){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.listArticles(!!t,i);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.toJSON()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()}]),e}())(new L)},A=Object(_.a)({},z),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initRun,i=e.initState,r=void 0===i?null:i,a=Object(n.useState)(r),c=Object(v.a)(a,2),s=c[0],o=c[1],l=Object(n.useState)("idle"),u=Object(v.a)(l,2),d=u[0],h=u[1],b=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,h("pending"),e.prev=2,e.next=5,t(A);case 5:(i=e.sent)?(o(i),h("success")):(o(null),h("error")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),o(null),h("error");case 13:return e.abrupt("return",{data:s});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&b(t)}),[]),{isIdle:"idle"===d,isError:"error"===d,isSuccess:"success"===d,isLoading:"pending"===d,data:s,run:b}},I=function(){var e=E({initState:[]}),t=e.data,i=e.isLoading,r=e.isError,a=e.isSuccess,c=e.run,s=Object(n.useState)(null),o=Object(v.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(!1),h=Object(v.a)(d,2),b=h[0],j=h[1],p=Object(n.useState)(""),x=Object(v.a)(p,2),f=x[0],m=x[1],O=Object(n.useState)("byDate"),g=Object(v.a)(O,2),y=g[0],_=g[1];return Object(n.useEffect)((function(){c((function(e){return e.list_articles_use_case.execute(b,y)}))}),[b,y]),{filters:{changePeriod:function(e){var t;j("1"===(null===(t=e.target)||void 0===t?void 0:t.value))},changeSearchText:function(e){var t;m(null===(t=e.target)||void 0===t?void 0:t.value)},changeTypeList:function(e){var t;_(null===(t=e.target)||void 0===t?void 0:t.value)},searchText:f,typeList:y,today:b},selection:{onClickCard:function(e){return function(){u(e)}},clear:function(){return u(null)},item:l},isLoading:i,isError:r,isSuccess:a,data:null===t||void 0===t?void 0:t.filter((function(e){if(""===f)return!0;var t=f.toLocaleLowerCase();return e.author.toLocaleLowerCase().includes(t)||e.title.toLocaleLowerCase().includes(t)}))}},P=function(){var e,t,i,n,r,a,c=I(),s=c.data,v=c.filters,O=c.selection,g=c.isLoading,y=c.isError,_=c.isSuccess;return Object(d.jsxs)(h,{children:[Object(d.jsxs)(l.a,{rowGap:"0.2rem",columnGap:"0.8rem",pb:"0.8rem",mb:"0.8rem",borderBottomWidth:"1px",borderBottomColor:"gray.100",templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(3, 1fr)","repeat(3, 1fr)"],children:[Object(d.jsxs)(x.a,{onChange:v.changeTypeList,defaultValue:v.typeList,children:[Object(d.jsx)("option",{value:"byDate",children:"Por orden"}),Object(d.jsx)("option",{value:"byViews",children:"M\xe1s visto"})]}),Object(d.jsx)(f.a,{value:v.searchText,placeholder:"Buscar por art\xedculo o autor",onInput:v.changeSearchText}),Object(d.jsxs)(x.a,{onChange:v.changePeriod,defaultValue:v.today?"1":"7",children:[Object(d.jsx)("option",{value:"7",children:"\xdaltimos 7 d\xedas"}),Object(d.jsx)("option",{value:"1",children:"\xdaltimo d\xeda"})]})]}),g&&Object(d.jsx)(o.a,{mt:"4.8rem",children:Object(d.jsx)(b,{})}),y&&Object(d.jsx)(o.a,{backgroundColor:"red.500",color:"white",mt:"2.4rem",py:"1.2rem",textAlign:"center",width:"100%",children:"Error al cargar los datos favor de actualizar"}),_&&Object(d.jsx)(l.a,{gap:"1.2rem",pb:"1.2rem",templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(d.jsx)(p,{onClick:O.onClickCard(e),description:e.abstract,title:e.title,image:e.image},"index_".concat(t))}))}),Object(d.jsxs)(m.a,{motionPreset:"slideInBottom",onClose:O.clear,isOpen:!!O.item,size:"xl",children:[Object(d.jsx)(m.f,{}),Object(d.jsxs)(m.d,{pb:5,children:[Object(d.jsx)(m.e,{textAlign:"center",mx:"1.6rem",children:null===(e=O.item)||void 0===e?void 0:e.title}),Object(d.jsx)(m.c,{}),Object(d.jsx)(m.b,{children:Object(d.jsxs)(o.a,{display:"flex",flexDirection:"row",children:[Object(d.jsx)(j.a,{boxSize:"250px",objectFit:"cover",src:null===(t=O.item)||void 0===t?void 0:t.image,alt:null===(i=O.item)||void 0===i?void 0:i.title}),Object(d.jsxs)(o.a,{display:"flex",flexDirection:"column",children:[Object(d.jsx)(u.a,{fontSize:"sm",textAlign:"justify",px:"1.6rem",children:null===(n=O.item)||void 0===n?void 0:n.abstract}),Object(d.jsxs)(o.a,{mt:"auto",display:"flex",flexDirection:"column",children:[Object(d.jsxs)(u.a,{fontSize:"xs",textAlign:"right",px:"1.6rem",width:"100%",as:"i",children:["Feha de publicaci\xf3n: ",null===(r=O.item)||void 0===r?void 0:r.publishedDate]}),Object(d.jsx)(u.a,{fontSize:"xs",textAlign:"right",px:"1.6rem",width:"100%",as:"i",children:null===(a=O.item)||void 0===a?void 0:a.author})]})]})]})})]})]})]})},T=function(){return Object(d.jsx)(s.a,{children:Object(d.jsx)(o.a,{backgroundColor:"gray.50",children:Object(d.jsx)(P,{})})})},F=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,122)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),F()},96:function(e,t,i){},97:function(e,t,i){}},[[107,1,2]]]);
//# sourceMappingURL=main.e201824e.chunk.js.map